<script>
  // @ts-nocheck

  import Dropzone from "svelte-file-dropzone";
  import JSZip from "jszip";
  import { saveAs } from 'file-saver';
  import { fade } from 'svelte/transition';

/* || Data || ----------------------------------------*/

  let dataImgsFiles = [];
  let quality = 0.45
  let converted = false
  let firstUpload = false
  
/* || Functions || ----------------------------------------*/

  function handleFilesSelect(e) {
    const { acceptedFiles, fileRejections } = e.detail;
    acceptedFiles.forEach((element)=>{
      dataImgsFiles = [...dataImgsFiles,{...element, id:crypto.randomUUID(),src:URL.createObjectURL(element)}]
    })
    firstUpload = true;
    main.classList.remove("main-index--start")

  }
  
  function handleRemoveAll(e) {
    e.stopPropagation();
    dataImgsFiles = [];
    converted = false
  }

  function handleRemoveFile(e, index) {
    dataImgsFiles.splice(index, 1);
    dataImgsFiles = dataImgsFiles

    setTimeout(removeBedelay,5)
    setTimeout(addBedelay,10)
    setTimeout(addDownImgs,15)

  }

  function addLoadBedelay(){
    dataImgsFiles.forEach(element => {
      document.getElementById(element.id).classList.add("bedelayload")
    });
  }

  function removeBedelay(){
    dataImgsFiles.forEach(element => {
      document.getElementById(element.id).classList.remove("bedelay")
      document.getElementById(element.id).removeAttribute("href")
      document.getElementById(element.id).removeAttribute("download")
    });
  }

  function addBedelay(){
    dataImgsFiles.forEach(element => {
      if (element.webpImg) {
        document.getElementById(element.id).classList.remove("bedelayload")
        document.getElementById(element.id).classList.add("bedelay")
      }
    });
  }

  function addDownImgs(){
    dataImgsFiles.forEach(element => {
      if (element.webpImg) {
        let enlace = document.getElementById(element.id)
        enlace.download = `${element.path.split(".", 1)[0]}.webp`;
        enlace.href = element.webpImg;
      }
    })
  }

  function convertImgWebp(){
    console.log("convirtiendo!")
    removeBedelay()
    addLoadBedelay()
    //Creo el canvas
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    for (let index = 0; index < dataImgsFiles.length; index++) {
      //Creo una imagen nueva
      let img = new Image();
      //Cargo la imagen al canvas
      img.src = dataImgsFiles[index].src;
      console.log(img.src)
      img.onload = () => {
        canvas.width = img.width;
        canvas.height = img.height;
        ctx.drawImage(img, 0, 0);

        //Convierto el cavas en webp
        let webpImage = canvas.toDataURL("image/webp", quality);
        
        // --> Guardo la imagen convertida
        dataImgsFiles[index] = {...dataImgsFiles[index],webpImg: String(webpImage)}

        canvas.toBlob((bolbImage) => {
          dataImgsFiles[index] = {...dataImgsFiles[index],canvasImg: bolbImage}
        },"image/webp", quality);

        addBedelay()
        addDownImgs()

        converted = true
        console.log("convirtido!")

      };
    }
    // console.log("dataImgsFiles",dataImgsFiles)
    // console.log("files.accepted",files.accepted)
  }

  function downloadZip(){

    let zip = new JSZip();
    dataImgsFiles.forEach(element => {
      zip.file(element.path.split(".", 1)[0] + ".webp", element.canvasImg)
    });
    
    zip.generateAsync({type:"blob"})
    .then(function(content) {
      saveAs(content, "photos.zip");
    });

  }

</script>

<main id="main" class="main-index main-index--start">

  <a href="/" class="logo">
    <svg width="89" height="63" viewBox="0 0 89 63" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M46 31.25C46 24.6226 51.3726 19.25 58 19.25C62.8392 19.25 67.0094 22.1145 68.9075 26.2404H72.1431C70.0812 20.4195 64.5275 16.25 58 16.25C52.0627 16.25 46.9311 19.6996 44.5 24.7038C43.539 26.682 43 28.903 43 31.25C43 37.8774 37.6274 43.25 31 43.25C24.8806 43.25 19.831 38.6695 19.0928 32.75H31V29.75H19.0928C19.831 23.8305 24.8806 19.25 31 19.25C34.342 19.25 37.365 20.6162 39.5408 22.8206C39.9202 21.6575 40.1984 21.0292 40.9052 19.9853C38.263 17.6602 34.7962 16.25 31 16.25C22.7157 16.25 16 22.9657 16 31.25C16 39.5343 22.7157 46.25 31 46.25C36.9373 46.25 42.0689 42.8004 44.5 37.7962C45.461 35.818 46 33.597 46 31.25Z" fill="#1F1F1F"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M58 43.25C54.4244 43.25 51.214 41.6862 49.0156 39.2051C48.6415 40.4735 48.304 41.0728 47.5269 41.9885C50.2302 44.6253 53.9254 46.25 58 46.25C64.5275 46.25 70.0812 42.0805 72.1431 36.2596L68.9075 36.2596C67.0094 40.3855 62.8392 43.25 58 43.25Z" fill="#1F1F1F"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M46 31.25C46 24.6226 51.3726 19.25 58 19.25C62.8392 19.25 67.0094 22.1145 68.9075 26.2404H72.1431C70.0812 20.4195 64.5275 16.25 58 16.25C52.0627 16.25 46.9311 19.6996 44.5 24.7038C43.539 26.682 43 28.903 43 31.25C43 37.8774 37.6274 43.25 31 43.25C24.8806 43.25 19.831 38.6695 19.0928 32.75H31V29.75H19.0928C19.831 23.8305 24.8806 19.25 31 19.25C34.342 19.25 37.365 20.6162 39.5408 22.8206C39.9202 21.6575 40.1984 21.0292 40.9052 19.9853C38.263 17.6602 34.7962 16.25 31 16.25C22.7157 16.25 16 22.9657 16 31.25C16 39.5343 22.7157 46.25 31 46.25C36.9373 46.25 42.0689 42.8004 44.5 37.7962C45.461 35.818 46 33.597 46 31.25Z" stroke="#1F1F1F"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M58 43.25C54.4244 43.25 51.214 41.6862 49.0156 39.2051C48.6415 40.4735 48.304 41.0728 47.5269 41.9885C50.2302 44.6253 53.9254 46.25 58 46.25C64.5275 46.25 70.0812 42.0805 72.1431 36.2596L68.9075 36.2596C67.0094 40.3855 62.8392 43.25 58 43.25Z" stroke="#1F1F1F"/>
      <rect x="1.5" y="1.75" width="85.1431" height="59" rx="2.5" stroke-width="3"/>
    </svg>
    <h1 class="logo__name">Easy<br>Convert</h1>
  </a>
  
  <p class="description">“ Convert your images in webp format, easy and fast, drag an image or click on the following box to start using it ”</p>

  <Dropzone containerClasses="upload-box" disableDefaultStyles="true" on:drop={handleFilesSelect} accept={["image/*"]}>

    <svg class="upload-box__svg" width="120" height="85" viewBox="0 0 120 85" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill="#292929" stroke="#fff" stroke-width="3.5" d="M56.4483 0.124142C44.5089 1.29674 33.8652 7.74604 27.2476 17.8304C26.3914 19.1203 25.6973 20.1991 25.6741 20.246C25.651 20.2929 24.818 20.5039 23.8231 20.7619C18.2698 22.0987 13.4802 24.7956 9.50034 28.8528C4.15535 34.2468 1.19363 41.1417 0.892828 48.9043C0.430058 60.7007 6.8857 71.6293 17.4831 76.9529C21.5555 78.9932 25.3039 79.8375 31.158 80.0251C36.3179 80.1893 37.2665 80.0017 38.7705 78.4538C41.2232 75.9914 40.6447 72.1687 37.5905 70.6209C36.4335 70.0346 36.2022 70.0111 32.662 70.0111C27.155 70.0111 24.6561 69.4952 21.2084 67.619C17.5757 65.6725 14.8453 62.8817 12.948 59.1763C9.08385 51.5544 10.4027 42.2908 16.2105 36.2168C19.6581 32.6052 23.2677 30.8697 29.1449 29.9551C31.505 29.5799 32.3149 28.9232 33.8652 26.0386C38.2152 17.9242 45.365 12.4833 54.2733 10.5368C55.731 10.2085 57.235 10.1147 60.0579 10.1147C64.2923 10.1147 66.3285 10.443 69.7761 11.6625C74.1956 13.2573 77.8052 15.6025 81.1371 19.0499C85.4409 23.5058 87.9167 28.3134 89.1893 34.5751C89.4669 35.9353 89.8372 37.2721 90.0223 37.5535C91.0404 39.1248 92.6601 39.9691 94.65 39.9925C101.314 40.0395 107.469 44.9878 108.973 51.484C109.435 53.4305 109.435 56.5731 108.973 58.5196C108.024 62.6237 104.993 66.4933 101.244 68.346C98.2596 69.8235 97.0101 70.0111 89.8834 70.0111H83.7517L82.5254 70.6209C79.4711 72.1687 78.8927 75.9914 81.3453 78.4773C82.9188 80.072 83.5666 80.1893 91.4337 80.0251C98.4447 79.8844 99.671 79.7202 103.234 78.4069C110.5 75.7568 116.47 69.0496 118.529 61.2166C119.061 59.1294 119.13 58.4493 119.13 55.0018C119.13 51.5778 119.061 50.8743 118.529 48.8574C116.146 39.8049 109.366 33.0038 100.481 30.729L98.3984 30.2131L97.5191 27.4926C93.0071 13.5621 81.0677 3.05564 66.9763 0.616633C63.7832 0.0537854 59.2944 -0.157282 56.4483 0.124142Z"/>
      <path fill="#292929" stroke="#fff" stroke-width="3.5" d="M57.8598 35.5366C56.5409 36.1933 41.2232 51.7888 40.7373 52.938C39.4415 56.1275 41.4777 59.6453 44.7634 59.8798C47.0541 60.0439 47.5169 59.7625 51.543 55.7522L55.1988 52.1172V66.7043C55.1988 80.5879 55.222 81.3384 55.6385 82.1592C57.5821 85.9819 62.7189 85.935 64.4774 82.0888C64.8707 81.1977 64.917 80.2596 64.917 66.634V52.1172L68.5729 55.7522C72.599 59.7625 73.0618 60.0439 75.3293 59.8798C77.7589 59.6922 79.4942 57.9333 79.6794 55.4708C79.8645 52.9614 79.9339 53.0552 71.1875 44.1435C65.9814 38.8433 62.8577 35.8415 62.2561 35.5366C61.0066 34.9268 59.0861 34.9268 57.8598 35.5366Z"/>
    </svg>
    <div class="upload-box__text">
      <p class="upload-box__title">Drag and Drop here</p>
      <p class="upload-box__subtitle">JPG, JPEG & PNG</p>
    </div>
    <div class="upload-box__or">
      <span class="line"></span>
      <p>or</p>
      <span class="line"></span>
    </div>
    <button class="upload-box__btn">Upload Files</button>
    <div class="upload-box__cont-remove">
      <p class="upload-box__count">{dataImgsFiles.length} files uploaded</p>
      {#if dataImgsFiles.length > 0}
        <button class="upload-box__removeAll" on:click={handleRemoveAll}>Remove All</button>
      {/if}
    </div>

  </Dropzone>


  {#if firstUpload}
    <section class="imgs-box">
      
      {#if dataImgsFiles.length == 0}
        <div class="imgs-box__svg">
          <svg width="268" height="234" viewBox="0 0 268 234" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="118" y="113.25" width="90" height="50" rx="7" fill="#EDEDED"/>
            <path d="M187.298 141.719C191.999 141.719 195.811 137.916 195.811 133.224C195.811 128.533 191.999 124.73 187.298 124.73C182.596 124.73 178.784 128.533 178.784 133.224C178.784 137.916 182.596 141.719 187.298 141.719Z" fill="#B5B5B5" fill-opacity="0.82"/>
            <path d="M118 142.313V157.087C117.999 157.454 118.034 157.819 118.103 158.179C118.127 158.343 118.166 158.503 118.205 158.662C118.249 158.826 118.303 158.99 118.357 159.15C118.391 159.237 118.421 159.324 118.46 159.406C118.474 159.449 118.494 159.488 118.514 159.531C118.558 159.638 118.607 159.739 118.66 159.84C118.66 159.845 118.66 159.85 118.665 159.85C118.695 159.908 118.724 159.966 118.753 160.019C118.812 160.125 118.876 160.232 118.939 160.333C119.017 160.459 119.096 160.574 119.184 160.69C119.233 160.763 119.287 160.832 119.345 160.898C119.394 160.961 119.448 161.024 119.497 161.086C119.55 161.151 119.607 161.212 119.668 161.27C119.704 161.314 119.744 161.356 119.785 161.396C119.864 161.473 119.942 161.55 120.025 161.623C120.054 161.652 120.085 161.68 120.118 161.705C120.172 161.753 120.23 161.801 120.289 161.85C120.318 161.874 120.353 161.903 120.387 161.927C120.411 161.946 120.436 161.965 120.465 161.99H120.47C120.577 162.073 120.688 162.15 120.803 162.221L120.803 162.223L120.804 162.225L120.806 162.226L120.808 162.226C120.813 162.226 120.813 162.231 120.817 162.236C120.886 162.284 120.959 162.328 121.033 162.371C121.072 162.395 121.111 162.415 121.15 162.434C121.159 162.442 121.169 162.449 121.179 162.453C121.223 162.477 121.262 162.502 121.307 162.521C121.419 162.579 121.532 162.637 121.649 162.69C121.784 162.753 121.923 162.81 122.065 162.859C122.067 162.862 122.07 162.864 122.073 162.866C122.077 162.868 122.08 162.869 122.084 162.869C122.116 162.882 122.149 162.893 122.182 162.902C122.246 162.927 122.314 162.951 122.378 162.97C122.427 162.985 122.471 162.994 122.52 163.009C122.622 163.042 122.73 163.067 122.838 163.091C122.866 163.099 122.896 163.106 122.926 163.11C122.979 163.125 123.033 163.134 123.087 163.144C123.09 163.144 123.092 163.144 123.095 163.145C123.097 163.145 123.1 163.147 123.102 163.149C123.119 163.148 123.135 163.151 123.151 163.158C123.162 163.158 123.174 163.159 123.185 163.163C123.268 163.178 123.356 163.187 123.444 163.202C123.493 163.207 123.547 163.211 123.601 163.216C123.608 163.22 123.617 163.222 123.625 163.221C123.649 163.221 123.679 163.226 123.703 163.226C123.728 163.23 123.752 163.232 123.777 163.231C123.798 163.235 123.819 163.237 123.84 163.236H123.865C123.889 163.24 123.918 163.24 123.948 163.245C124.046 163.25 124.143 163.25 124.241 163.25H201.759C203.136 163.247 204.473 162.796 205.565 161.967C206.656 161.137 207.439 159.976 207.795 158.662C207.834 158.503 207.873 158.343 207.897 158.179C207.966 157.819 208.001 157.454 208 157.087V149.368C207.829 149.223 207.662 149.074 207.496 148.919C207.325 148.76 207.159 148.6 206.992 148.436C205.535 146.939 204.208 145.323 203.026 143.606C202.986 143.553 202.947 143.505 202.913 143.452C202.835 143.341 202.757 143.234 202.673 143.123C201.487 141.409 200.16 139.794 198.707 138.294C198.54 138.129 198.374 137.97 198.203 137.811C196.383 136.12 194.309 134.86 191.864 134.56C188.493 134.145 185.358 135.686 182.585 137.811C182.379 137.97 182.179 138.129 181.978 138.294C181.029 139.057 180.129 139.887 179.278 140.713C179.053 140.935 178.823 141.158 178.593 141.38C178.002 141.964 177.395 142.549 176.784 143.123C176.608 143.288 176.436 143.447 176.26 143.606C173.815 145.842 171.168 147.808 168.023 148.436C167.808 148.479 167.588 148.518 167.368 148.547C166.18 148.703 164.973 148.666 163.797 148.436C163.602 148.402 163.411 148.359 163.215 148.31C160.271 147.591 157.541 144.897 155.071 142.724C154.895 142.565 154.714 142.405 154.538 142.241C153.276 141.087 152.078 139.85 150.958 138.633C150.586 138.227 150.204 137.817 149.823 137.411C149.666 137.252 149.515 137.092 149.363 136.928C147.726 135.167 145.935 133.551 144.012 132.099C143.782 131.93 143.552 131.77 143.322 131.616C140.735 129.872 137.908 128.752 134.802 128.93C132.239 129.075 129.896 130.118 127.788 131.616C127.572 131.77 127.357 131.93 127.142 132.099C125.538 133.371 124.074 134.807 122.774 136.383C122.622 136.561 122.471 136.745 122.319 136.928C122.241 137.02 122.167 137.117 122.089 137.208L121.928 137.411C120.632 139.01 119.384 140.671 118.059 142.241L118 142.313Z" fill="#D0D0D0"/>
            <path d="M238 148.25C243.523 148.25 248 143.773 248 138.25C248 132.727 243.523 128.25 238 128.25C232.477 128.25 228 132.727 228 138.25C228 143.773 232.477 148.25 238 148.25Z" fill="#F2F2F2"/>
            <path d="M236.636 143.454C236.463 143.454 236.293 143.414 236.138 143.337C235.984 143.26 235.849 143.148 235.746 143.009L233.018 139.372C232.841 139.136 232.765 138.839 232.806 138.547C232.848 138.255 233.004 137.992 233.24 137.815C233.476 137.638 233.773 137.562 234.065 137.603C234.357 137.645 234.621 137.801 234.798 138.037L236.582 140.417L241.167 133.541C241.248 133.419 241.352 133.315 241.473 133.233C241.595 133.152 241.731 133.095 241.874 133.067C242.017 133.038 242.165 133.038 242.308 133.066C242.451 133.095 242.588 133.151 242.709 133.232C242.831 133.313 242.935 133.417 243.016 133.539C243.098 133.66 243.154 133.796 243.183 133.939C243.212 134.083 243.212 134.23 243.183 134.373C243.155 134.517 243.099 134.653 243.018 134.775L237.561 142.959C237.463 143.107 237.33 143.229 237.174 143.315C237.019 143.402 236.845 143.449 236.667 143.454L236.636 143.454Z" fill="white"/>
            <rect x="118" y="183.25" width="90" height="50" rx="7" fill="#EDEDED"/>
            <path d="M187.298 211.719C191.999 211.719 195.811 207.916 195.811 203.224C195.811 198.533 191.999 194.73 187.298 194.73C182.596 194.73 178.784 198.533 178.784 203.224C178.784 207.916 182.596 211.719 187.298 211.719Z" fill="#B5B5B5" fill-opacity="0.82"/>
            <path d="M118 212.313V227.087C117.999 227.454 118.034 227.819 118.103 228.179C118.127 228.343 118.166 228.503 118.205 228.662C118.249 228.826 118.303 228.99 118.357 229.15C118.391 229.237 118.421 229.324 118.46 229.406C118.474 229.449 118.494 229.488 118.514 229.531C118.558 229.638 118.607 229.739 118.66 229.84C118.66 229.845 118.66 229.85 118.665 229.85C118.695 229.908 118.724 229.966 118.753 230.019C118.812 230.125 118.876 230.232 118.939 230.333C119.017 230.459 119.096 230.574 119.184 230.69C119.233 230.763 119.287 230.832 119.345 230.898C119.394 230.961 119.448 231.024 119.497 231.086C119.55 231.151 119.607 231.212 119.668 231.27C119.704 231.314 119.744 231.356 119.785 231.396C119.864 231.473 119.942 231.55 120.025 231.623C120.054 231.652 120.085 231.68 120.118 231.705C120.172 231.753 120.23 231.801 120.289 231.85C120.318 231.874 120.353 231.903 120.387 231.927C120.411 231.946 120.436 231.965 120.465 231.99H120.47C120.577 232.073 120.688 232.15 120.803 232.221L120.803 232.223L120.804 232.225L120.806 232.226L120.808 232.226C120.813 232.226 120.813 232.231 120.817 232.236C120.886 232.284 120.959 232.328 121.033 232.371C121.072 232.395 121.111 232.415 121.15 232.434C121.159 232.442 121.169 232.449 121.179 232.453C121.223 232.477 121.262 232.502 121.307 232.521C121.419 232.579 121.532 232.637 121.649 232.69C121.784 232.753 121.923 232.81 122.065 232.859C122.067 232.862 122.07 232.864 122.073 232.866C122.077 232.868 122.08 232.869 122.084 232.869C122.116 232.882 122.149 232.893 122.182 232.902C122.246 232.927 122.314 232.951 122.378 232.97C122.427 232.985 122.471 232.994 122.52 233.009C122.622 233.042 122.73 233.067 122.838 233.091C122.866 233.099 122.896 233.106 122.926 233.11C122.979 233.125 123.033 233.134 123.087 233.144C123.09 233.144 123.092 233.144 123.095 233.145C123.097 233.145 123.1 233.147 123.102 233.149C123.119 233.148 123.135 233.151 123.151 233.158C123.162 233.158 123.174 233.159 123.185 233.163C123.268 233.178 123.356 233.187 123.444 233.202C123.493 233.207 123.547 233.211 123.601 233.216C123.608 233.22 123.617 233.222 123.625 233.221C123.649 233.221 123.679 233.226 123.703 233.226C123.728 233.23 123.752 233.232 123.777 233.231C123.798 233.235 123.819 233.237 123.84 233.236H123.865C123.889 233.24 123.918 233.24 123.948 233.245C124.046 233.25 124.143 233.25 124.241 233.25H201.759C203.136 233.247 204.473 232.796 205.565 231.967C206.656 231.137 207.439 229.976 207.795 228.662C207.834 228.503 207.873 228.343 207.897 228.179C207.966 227.819 208.001 227.454 208 227.087V219.368C207.829 219.223 207.662 219.074 207.496 218.919C207.325 218.76 207.159 218.6 206.992 218.436C205.535 216.939 204.208 215.323 203.026 213.606C202.986 213.553 202.947 213.505 202.913 213.452C202.835 213.341 202.757 213.234 202.673 213.123C201.487 211.409 200.16 209.794 198.707 208.294C198.54 208.129 198.374 207.97 198.203 207.811C196.383 206.12 194.309 204.86 191.864 204.56C188.493 204.145 185.358 205.686 182.585 207.811C182.379 207.97 182.179 208.129 181.978 208.294C181.029 209.057 180.129 209.887 179.278 210.713C179.053 210.935 178.823 211.158 178.593 211.38C178.002 211.964 177.395 212.549 176.784 213.123C176.608 213.288 176.436 213.447 176.26 213.606C173.815 215.842 171.168 217.808 168.023 218.436C167.808 218.479 167.588 218.518 167.368 218.547C166.18 218.703 164.973 218.666 163.797 218.436C163.602 218.402 163.411 218.359 163.215 218.31C160.271 217.591 157.541 214.897 155.071 212.724C154.895 212.565 154.714 212.405 154.538 212.241C153.276 211.087 152.078 209.85 150.958 208.633C150.586 208.227 150.204 207.817 149.823 207.411C149.666 207.252 149.515 207.092 149.363 206.928C147.726 205.167 145.935 203.551 144.012 202.099C143.782 201.93 143.552 201.77 143.322 201.616C140.735 199.872 137.908 198.752 134.802 198.93C132.239 199.075 129.896 200.118 127.788 201.616C127.572 201.77 127.357 201.93 127.142 202.099C125.538 203.371 124.074 204.807 122.774 206.383C122.622 206.561 122.471 206.745 122.319 206.928C122.241 207.02 122.167 207.117 122.089 207.208L121.928 207.411C120.632 209.01 119.384 210.671 118.059 212.241L118 212.313Z" fill="#D0D0D0"/>
            <path d="M238 218.25C243.523 218.25 248 213.773 248 208.25C248 202.727 243.523 198.25 238 198.25C232.477 198.25 228 202.727 228 208.25C228 213.773 232.477 218.25 238 218.25Z" fill="#F2F2F2"/>
            <path d="M236.636 213.454C236.463 213.454 236.293 213.414 236.138 213.337C235.984 213.26 235.849 213.148 235.746 213.009L233.018 209.372C232.841 209.136 232.765 208.839 232.806 208.547C232.848 208.255 233.004 207.992 233.24 207.815C233.476 207.638 233.773 207.562 234.065 207.603C234.357 207.645 234.621 207.801 234.798 208.037L236.582 210.417L241.167 203.541C241.248 203.419 241.352 203.315 241.473 203.233C241.595 203.152 241.731 203.095 241.874 203.067C242.017 203.038 242.165 203.038 242.308 203.066C242.451 203.095 242.588 203.151 242.709 203.232C242.831 203.313 242.935 203.417 243.016 203.539C243.098 203.66 243.154 203.796 243.183 203.939C243.212 204.083 243.212 204.23 243.183 204.373C243.155 204.517 243.099 204.653 243.018 204.775L237.561 212.959C237.463 213.107 237.33 213.229 237.174 213.315C237.019 213.402 236.845 213.449 236.667 213.454L236.636 213.454Z" fill="white"/>
            <rect x="65" y="0.75" width="155" height="90" rx="10" fill="#C7DDFF"/>
            <path d="M181.983 39.8969C189.18 39.8969 195.015 34.075 195.015 26.8934C195.015 19.7117 189.18 13.8899 181.983 13.8899C174.785 13.8899 168.95 19.7117 168.95 26.8934C168.95 34.075 174.785 39.8969 181.983 39.8969Z" fill="white"/>
            <path d="M220 54.393V80.0485C220.001 80.6844 219.942 81.3191 219.823 81.9439C219.781 82.229 219.714 82.5058 219.646 82.7826C219.57 83.0677 219.478 83.3529 219.385 83.6297C219.326 83.7806 219.276 83.9316 219.208 84.0742C219.183 84.1497 219.149 84.2167 219.116 84.2922C219.04 84.4767 218.955 84.6529 218.863 84.829C218.863 84.8374 218.863 84.8457 218.854 84.8457C218.804 84.9464 218.753 85.0471 218.703 85.1393C218.602 85.3238 218.492 85.5083 218.383 85.6844C218.248 85.9025 218.113 86.1038 217.961 86.3051C217.876 86.4308 217.783 86.5512 217.683 86.6657C217.599 86.7748 217.506 86.8838 217.422 86.9928C217.331 87.105 217.232 87.2115 217.127 87.3115C217.065 87.3883 216.997 87.4611 216.925 87.5296C216.79 87.6638 216.656 87.7979 216.512 87.9238C216.463 87.9756 216.41 88.0233 216.352 88.0663C216.26 88.1502 216.159 88.2341 216.058 88.3179C216.007 88.3598 215.948 88.4102 215.889 88.4521C215.847 88.4857 215.805 88.5192 215.754 88.5612H215.746C215.562 88.7056 215.371 88.84 215.173 88.9637L215.173 88.967L215.171 88.9697L215.168 88.9715L215.165 88.9721C215.156 88.9721 215.156 88.9805 215.148 88.9889C215.03 89.0728 214.904 89.1482 214.777 89.2237C214.71 89.2656 214.642 89.2992 214.575 89.3328C214.56 89.3468 214.543 89.3581 214.524 89.3663C214.449 89.4082 214.381 89.4502 214.305 89.4837C214.112 89.5843 213.918 89.685 213.716 89.7772C213.482 89.8872 213.243 89.9852 213 90.0708C212.996 90.0759 212.991 90.0801 212.985 90.0829C212.979 90.0858 212.973 90.0874 212.966 90.0875C212.911 90.1108 212.855 90.1304 212.798 90.1462C212.688 90.1882 212.57 90.2301 212.461 90.2636C212.376 90.2888 212.301 90.3056 212.216 90.3308C212.039 90.3895 211.854 90.4314 211.669 90.4733C211.619 90.4885 211.568 90.4997 211.517 90.5069C211.424 90.532 211.332 90.5488 211.239 90.5655C211.235 90.565 211.23 90.5654 211.226 90.5669C211.221 90.5684 211.217 90.5708 211.214 90.5739C211.185 90.5721 211.156 90.5779 211.13 90.5907C211.11 90.5894 211.09 90.5923 211.071 90.5991C210.927 90.6243 210.776 90.641 210.624 90.6662C210.54 90.6746 210.447 90.683 210.355 90.6914C210.342 90.6982 210.327 90.7011 210.312 90.6998C210.27 90.6998 210.22 90.7082 210.178 90.7082C210.136 90.7151 210.094 90.7179 210.051 90.7165C210.015 90.7238 209.979 90.7266 209.942 90.7249H209.9C209.858 90.7333 209.807 90.7333 209.757 90.7417C209.588 90.7501 209.42 90.7501 209.251 90.7501H75.7489C73.3774 90.7449 71.0737 89.9615 69.1945 88.5211C67.3152 87.0808 65.9654 85.0638 65.3538 82.7825C65.2865 82.5057 65.219 82.229 65.1769 81.9438C65.0581 81.319 64.9988 80.6844 65 80.0484V65.1115C65.2948 64.8599 65.5813 64.5999 65.8677 64.3315C66.1625 64.0547 66.4489 63.7779 66.7353 63.4928C69.2446 60.8927 71.5299 58.0872 73.5671 55.1059C73.6345 55.0137 73.7019 54.9298 73.7609 54.8375C73.8957 54.6447 74.0304 54.4601 74.1737 54.2672C76.2167 51.2903 78.5016 48.4853 81.0054 45.8804C81.2919 45.5952 81.5783 45.3184 81.8731 45.0417C85.0068 42.1063 88.5785 39.9173 92.7905 39.3973C98.5946 38.676 103.994 41.3514 108.771 45.0417C109.124 45.3184 109.47 45.5952 109.815 45.8804C111.449 47.2055 112.999 48.648 114.465 50.0822C114.853 50.468 115.249 50.8538 115.645 51.2396C116.664 52.2544 117.708 53.2692 118.761 54.2672C119.065 54.5524 119.36 54.8292 119.663 55.1059C123.875 58.9891 128.432 62.4025 133.849 63.4928C134.219 63.5683 134.598 63.6354 134.977 63.6857C137.024 63.957 139.102 63.8918 141.127 63.4928C141.464 63.4341 141.792 63.3586 142.129 63.2747C147.201 62.0251 151.901 58.88 156.155 55.1059C156.458 54.8292 156.77 54.5524 157.073 54.2672C159.247 52.2628 161.311 50.1157 163.24 48.0022C163.88 47.2978 164.537 46.5848 165.194 45.8804C165.464 45.6036 165.725 45.3268 165.986 45.0417C168.805 41.9827 171.889 39.1763 175.202 36.6548C175.598 36.3612 175.993 36.0845 176.389 35.8161C180.846 32.7885 185.715 30.8427 191.064 31.153C195.478 31.4046 199.513 33.2161 203.144 35.8161C203.514 36.0845 203.885 36.3612 204.256 36.6548C207.019 38.8647 209.54 41.3581 211.778 44.094C212.039 44.4043 212.301 44.723 212.562 45.0417C212.696 45.201 212.823 45.3688 212.958 45.5281L213.236 45.8804C215.468 48.6564 217.616 51.5415 219.899 54.2672L220 54.393Z" fill="#4581DA"/>
            <path d="M220 80.0484V43.8003C218.036 43.9624 216.102 44.3797 214.246 45.0416C213.817 45.1925 213.387 45.3519 212.958 45.528C212.68 45.637 212.393 45.7544 212.115 45.8803C208.878 47.3688 205.844 49.2597 203.085 51.5078C201.956 52.3885 200.861 53.3194 199.799 54.2671C199.488 54.5523 199.176 54.829 198.873 55.1058C197.988 55.9193 197.129 56.7496 196.287 57.5716C194.29 59.5257 192.269 61.547 190.188 63.4927C189.886 63.7768 189.583 64.0527 189.281 64.3285L189.278 64.3314C185.622 67.661 181.764 70.7054 177.493 72.7183C176.844 73.0202 176.187 73.3054 175.513 73.557C173.748 74.2453 171.907 74.7239 170.029 74.9827C165.941 75.5114 161.784 75.0215 157.933 73.557C157.233 73.3054 156.543 73.0286 155.86 72.7183C152.628 71.2381 149.583 69.3829 146.788 67.1913C145.608 66.2855 144.446 65.3294 143.317 64.3314C142.997 64.0546 142.685 63.7778 142.374 63.4927C142.289 63.4172 142.205 63.3501 142.129 63.2746C139.265 60.6747 136.57 57.8735 134.042 55.1058C133.983 55.0387 133.916 54.9716 133.857 54.9046C133.663 54.6949 133.47 54.4768 133.276 54.2671C130.681 51.4408 127.96 48.5641 125.088 45.8803C124.785 45.5951 124.49 45.31 124.178 45.0416C120.556 41.7288 116.689 38.7682 112.57 36.6547C111.997 36.3528 111.416 36.0676 110.826 35.816C106.898 33.976 102.576 33.1263 98.2408 33.3419C94.9358 33.5556 91.7022 34.3953 88.7134 35.816C88.1489 36.076 87.593 36.3528 87.0454 36.6547C83.0194 38.9007 79.349 41.7268 76.1533 45.0416C75.8753 45.3183 75.6058 45.6035 75.3362 45.8803C74.081 47.1886 72.8764 48.5389 71.7307 49.9059C70.5345 51.3317 69.372 52.791 68.218 54.2671C67.9989 54.5439 67.7799 54.8206 67.5609 55.1058C66.7045 56.1989 65.8508 57.2948 65 58.3935V80.0483C64.9988 80.6843 65.0581 81.3189 65.1769 81.9438C65.219 82.2283 65.2862 82.5045 65.3534 82.7807L65.3538 82.7824C65.9654 85.0637 67.3152 87.0807 69.1945 88.521C71.0737 89.9614 73.3774 90.7448 75.7489 90.75H209.251C209.47 90.75 209.689 90.7416 209.9 90.7248H210.034C210.041 90.7239 210.047 90.721 210.051 90.7164C210.094 90.7178 210.136 90.715 210.178 90.7081C210.22 90.7081 210.27 90.6997 210.312 90.6997C210.327 90.701 210.342 90.6981 210.355 90.6913L210.359 90.6909C210.45 90.6826 210.541 90.6744 210.624 90.6661C210.776 90.641 210.927 90.6242 211.071 90.599C211.09 90.5922 211.11 90.5893 211.13 90.5906C211.156 90.5778 211.185 90.572 211.214 90.5739C211.217 90.5707 211.221 90.5683 211.226 90.5668C211.23 90.5654 211.235 90.5649 211.239 90.5654C211.332 90.5487 211.424 90.5319 211.517 90.5068C211.568 90.4996 211.619 90.4884 211.669 90.4732C211.854 90.4313 212.039 90.3894 212.216 90.3307C212.301 90.3055 212.376 90.2887 212.461 90.2636C212.57 90.23 212.688 90.1881 212.798 90.1461C212.855 90.1304 212.911 90.1107 212.966 90.0874C212.973 90.0873 212.979 90.0857 212.985 90.0828C212.991 90.08 212.996 90.0758 213 90.0707C213.243 89.9851 213.482 89.8871 213.716 89.7771C213.918 89.6849 214.112 89.5842 214.305 89.4836C214.381 89.4501 214.449 89.4081 214.524 89.3662C214.543 89.358 214.56 89.3467 214.575 89.3327L214.576 89.3322C214.643 89.2988 214.71 89.2654 214.777 89.2236L214.778 89.2231C214.904 89.1478 215.03 89.0725 215.148 88.9888C215.156 88.9804 215.156 88.972 215.165 88.972L215.168 88.9714L215.171 88.9696L215.173 88.9669L215.173 88.9636C215.371 88.8399 215.562 88.7055 215.746 88.5611H215.754C215.805 88.5193 215.847 88.4859 215.889 88.4525L215.889 88.452C215.94 88.416 215.99 88.3738 216.036 88.3361L216.058 88.3178C216.159 88.234 216.26 88.1501 216.352 88.0662C216.41 88.0232 216.463 87.9755 216.512 87.9237C216.656 87.7978 216.79 87.6637 216.925 87.5295C216.997 87.461 217.065 87.3882 217.127 87.3114C217.232 87.2114 217.331 87.1049 217.422 86.9927C217.506 86.8837 217.599 86.7747 217.683 86.6656C217.783 86.5511 217.876 86.4307 217.961 86.305C218.113 86.1037 218.248 85.9024 218.383 85.6843C218.492 85.5082 218.602 85.3237 218.703 85.1392C218.753 85.0476 218.803 84.9476 218.853 84.8475L218.854 84.8456C218.863 84.8456 218.863 84.8373 218.863 84.8289C218.955 84.6528 219.04 84.4766 219.116 84.2921C219.149 84.2166 219.183 84.1496 219.208 84.0741C219.276 83.9315 219.326 83.7805 219.385 83.6296C219.478 83.3528 219.57 83.0676 219.646 82.7825L219.646 82.7815C219.714 82.5051 219.781 82.2286 219.823 81.9438C219.942 81.319 220.001 80.6843 220 80.0484Z" fill="#2C60AF"/>
            <path d="M254 59.75C261.732 59.75 268 53.482 268 45.75C268 38.018 261.732 31.75 254 31.75C246.268 31.75 240 38.018 240 45.75C240 53.482 246.268 59.75 254 59.75Z" fill="#2C60AF"/>
            <path d="M252.09 53.0362C251.849 53.0362 251.61 52.9799 251.394 52.8718C251.178 52.7637 250.99 52.6066 250.845 52.4132L247.025 47.3205C246.902 47.1569 246.813 46.9707 246.762 46.7726C246.712 46.5745 246.7 46.3684 246.729 46.1659C246.758 45.9635 246.827 45.7687 246.931 45.5927C247.035 45.4168 247.173 45.263 247.337 45.1403C247.5 45.0176 247.686 44.9284 247.885 44.8776C248.083 44.8269 248.289 44.8157 248.491 44.8446C248.694 44.8735 248.889 44.942 249.064 45.0462C249.24 45.1504 249.394 45.2883 249.517 45.4519L252.016 48.7833L258.433 39.1568C258.547 38.9866 258.693 38.8404 258.863 38.7266C259.033 38.6128 259.223 38.5336 259.424 38.4935C259.624 38.4534 259.831 38.4532 260.031 38.4929C260.232 38.5326 260.423 38.6114 260.593 38.7248C260.763 38.8383 260.909 38.9841 261.023 39.154C261.137 39.3239 261.216 39.5146 261.256 39.7152C261.296 39.9157 261.297 40.1222 261.257 40.3228C261.217 40.5235 261.138 40.7143 261.025 40.8845L253.386 52.3427C253.248 52.5499 253.062 52.721 252.844 52.8416C252.626 52.9622 252.383 53.0287 252.134 53.0357L252.09 53.0362Z" fill="white"/>
            <path d="M39.5 45.25H28.5C24.0817 45.25 20.5 48.8317 20.5 53.25V92.8934M20.5 140.537V203.25C20.5 207.668 24.0817 211.25 28.5 211.25H90.5M20.5 140.537H90.5M20.5 140.537V92.8934M20.5 92.8934H2" stroke="#EDEDED" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>  
        </div>
      {/if}

      {#if dataImgsFiles.length != 0}
        <div class="imgs-list">
          {#each dataImgsFiles as item, index}
            <div in:fade class="imgs-list__item">
              <a class="imgs-list__img" id={item.id}>
                <img class="imgs-list__preview-img" src={item.src} alt="" />
              </a>
              <div class="imgs-list__box">
                <p class="imgs-list__name">{item.path}</p>
                <button class="imgs-list__remove" on:click={(e) => handleRemoveFile(e, index)}>
                  <svg width="12" height="12" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.989525 0.318016C1.18479 0.122754 1.50137 0.122754 1.69663 0.318016L7.35349 5.97487C7.54875 6.17013 7.54875 6.48672 7.35349 6.68198C7.15822 6.87724 6.84164 6.87724 6.64638 6.68198L0.989525 1.02512C0.794263 0.829861 0.794263 0.513279 0.989525 0.318016Z" fill="#1F1F1F"/>
                    <path d="M0.989525 0.318016C1.18479 0.122754 1.50137 0.122754 1.69663 0.318016L7.35349 5.97487C7.54875 6.17013 7.54875 6.48672 7.35349 6.68198C7.15822 6.87724 6.84164 6.87724 6.64638 6.68198L0.989525 1.02512C0.794263 0.829861 0.794263 0.513279 0.989525 0.318016Z" fill="#1F1F1F"/>
                    <path d="M0.989576 6.682C0.794314 6.48674 0.794314 6.17015 0.989576 5.97489L6.64643 0.318038C6.84169 0.122776 7.15827 0.122776 7.35354 0.318038C7.5488 0.5133 7.5488 0.829883 7.35354 1.02514L1.69668 6.682C1.50142 6.87726 1.18484 6.87726 0.989576 6.682Z" fill="#1F1F1F"/>
                    <path d="M0.989576 6.682C0.794314 6.48674 0.794314 6.17015 0.989576 5.97489L6.64643 0.318038C6.84169 0.122776 7.15827 0.122776 7.35354 0.318038C7.5488 0.5133 7.5488 0.829883 7.35354 1.02514L1.69668 6.682C1.50142 6.87726 1.18484 6.87726 0.989576 6.682Z" fill="#1F1F1F"/>
                  </svg>
                </button>
              </div>
            </div>
          {/each}
        </div>
      {/if}

      <div class="imgs-box__nav">
        <div class="imgs-box__box">
          <div class="imgs-box__quality">
            <p class="imgs-box__text">Low</p>
            <p class="imgs-box__text">Medium</p>
            <p class="imgs-box__text">High</p>
          </div>
          <input class="imgs-box__input" type="range" id="volume" min="0" max="0.9" bind:value="{quality}" step="0.05">
        </div>
        <div class="imgs-box__btns">
          <button class="imgs-box__down" disabled={!converted || dataImgsFiles.length == 0} on:click={downloadZip}>Download as Zip File</button>
          <button class="imgs-box__convert" disabled={dataImgsFiles.length == 0} on:click={convertImgWebp}>Convert</button>
        </div>
      </div>

    </section>
  {/if}

  <div class="github">
    <svg class="github__separator" width="412" height="35" viewBox="0 0 412 35" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 17.5298H401C406.523 17.5298 411 13.0526 411 7.52979V27.5864C411 22.0641 406.524 17.5872 401.001 17.5864L0 17.5298Z" fill="#3D3D3D"/>
      <path d="M411 1.52979V7.52979C411 13.0526 406.523 17.5298 401 17.5298H0L401.001 17.5864C406.524 17.5872 411 22.0641 411 27.5864V33.5298V1.52979Z" stroke="url(#paint0_linear_713_157)" stroke-width="2" stroke-miterlimit="16" stroke-linecap="round"/>
      <defs>
      <linearGradient id="paint0_linear_713_157" x1="414.033" y1="17.5298" x2="0.107467" y2="17.5297" gradientUnits="userSpaceOnUse">
      <stop stop-color="#3D3D3D"/>
      <stop offset="1" stop-color="#2C60AF" stop-opacity="0"/>
      </linearGradient>
      </defs>
    </svg>

    <a href="https://github.com/FrancoPeron/easywebp" target="_blank" rel="noreferrer">
      <svg class="github__logo" width="42" height="41" viewBox="0 0 42 41" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M20.9992 0.0596347C16.0131 0.0572235 11.189 1.82992 7.39089 5.06024C3.59275 8.29056 1.06864 12.7675 0.27062 17.6893C-0.527404 22.6111 0.452779 27.6562 3.03563 31.9212C5.61847 36.1861 9.63527 39.3923 14.3667 40.9655C15.4153 41.1577 15.7981 40.5096 15.7981 39.953C15.7981 39.4559 15.7805 38.1345 15.7696 36.384C9.93294 37.6517 8.69963 33.5698 8.69963 33.5698C7.74505 31.146 6.36901 30.4995 6.36901 30.4995C4.46322 29.1982 6.51426 29.2242 6.51426 29.2242C7.17945 29.3163 7.81483 29.5591 8.37194 29.934C8.92905 30.309 9.39318 30.8062 9.72893 31.3878C11.5995 34.5949 14.6403 33.668 15.8367 33.1324C15.9318 32.0679 16.4044 31.0724 17.1691 30.3257C12.5087 29.796 7.6082 27.9951 7.6082 19.9521C7.57809 17.8669 8.35196 15.8502 9.76923 14.3204C9.1283 12.5101 9.20217 10.5235 9.97576 8.76586C9.97576 8.76586 11.7388 8.20168 15.7469 10.9177C19.1866 9.97624 22.816 9.97624 26.2556 10.9177C30.2629 8.20168 32.0226 8.76586 32.0226 8.76586C32.7983 10.523 32.8725 12.5103 32.2299 14.3204C33.6477 15.8498 34.4212 17.8669 34.3893 19.9521C34.3893 28.0119 29.4812 29.7901 24.804 30.3089C25.3053 30.8177 25.6919 31.4277 25.9381 32.0982C26.1843 32.7686 26.2842 33.4839 26.2313 34.1961C26.2313 37.0011 26.2053 39.2654 26.2053 39.953C26.2053 40.5146 26.5839 41.1678 27.6485 40.9604C32.3775 39.384 36.3911 36.176 38.9708 31.9106C41.5505 27.6452 42.5279 22.6009 41.728 17.6806C40.9281 12.7604 38.4031 8.28543 34.6051 5.05685C30.8071 1.82827 25.984 0.0568291 20.9992 0.0596347" fill="#3D3D3D"/>
      </svg>
    </a>
      
    <svg class="github__separator" width="412" height="35" viewBox="0 0 412 35" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M412 17.5298H11C5.47714 17.5298 1 22.0069 1 27.5298V7.47316C1 12.9955 5.47629 17.4724 10.9986 17.4732L412 17.5298Z" fill="#3D3D3D"/>
      <path d="M0.999989 33.5298V27.5298C0.999989 22.0069 5.47714 17.5298 11 17.5298H412L10.9986 17.4732C5.47628 17.4724 0.999989 12.9955 0.999989 7.47316V1.52978V33.5298Z" stroke="url(#paint0_linear_721_37)" stroke-width="2" stroke-miterlimit="16" stroke-linecap="round"/>
      <defs>
      <linearGradient id="paint0_linear_721_37" x1="-2.03274" y1="17.5298" x2="411.893" y2="17.5299" gradientUnits="userSpaceOnUse">
      <stop stop-color="#3D3D3D"/>
      <stop offset="1" stop-color="#2C60AF" stop-opacity="0"/>
      </linearGradient>
      </defs>
    </svg>
  </div>

</main>

<div class="background1">
  <svg width="292" height="773" viewBox="0 0 292 773" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="125.044" y="0.774017" width="166.803" height="166.803" rx="83.4014" fill="url(#paint0_linear_0_1)" fill-opacity="0.2"/>
    <rect x="0.572693" y="523.25" width="248.942" height="248.942" rx="124.471" fill="url(#paint1_linear_0_1)" fill-opacity="0.2"/>
    <defs>
    <linearGradient id="paint0_linear_0_1" x1="208.445" y1="0.774017" x2="208.445" y2="167.577" gradientUnits="userSpaceOnUse">
    <stop stop-color="#2C60AF"/>
    <stop offset="1" stop-color="white" stop-opacity="0"/>
    </linearGradient>
    <linearGradient id="paint1_linear_0_1" x1="125.044" y1="523.25" x2="125.044" y2="772.192" gradientUnits="userSpaceOnUse">
    <stop stop-color="#2C60AF"/>
    <stop offset="1" stop-color="white" stop-opacity="0"/>
    </linearGradient>
    </defs>
    </svg>      
</div>
<div class="background2">
  <svg width="249" height="559" viewBox="0 0 249 559" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect y="310.25" width="248.157" height="248.157" rx="124.079" fill="url(#paint0_linear_749_29)" fill-opacity="0.2"/>
    <rect x="108.032" y="0.25" width="84.6549" height="84.6549" rx="42.3274" fill="url(#paint1_linear_749_29)" fill-opacity="0.2"/>
    <defs>
    <linearGradient id="paint0_linear_749_29" x1="124.079" y1="310.25" x2="124.079" y2="558.407" gradientUnits="userSpaceOnUse">
    <stop stop-color="#2C60AF"/>
    <stop offset="1" stop-color="white" stop-opacity="0"/>
    </linearGradient>
    <linearGradient id="paint1_linear_749_29" x1="150.359" y1="0.25" x2="150.359" y2="84.9049" gradientUnits="userSpaceOnUse">
    <stop stop-color="#2C60AF"/>
    <stop offset="1" stop-color="white" stop-opacity="0"/>
    </linearGradient>
    </defs>
  </svg>
</div>

<style lang="scss">

  @import "./assets/styles/style.scss";

  .background1,.background2{
    position: absolute;
    display: none;
    z-index: -1;
    @include respond(md){
      display: block;
    }
  }
  
  .background1{
    top: 75px;
    left: -75px;
  }

  .background2{
    top: 75px;
    right: 75px;
  }

  .main-index{
    @extend %container-center;
    display: grid;
    grid-template-areas:  "name github"
                          "upload upload" 
                          "imgs imgs";
    grid-template-columns: 1fr;
    justify-content: center;
    margin: 0 auto;
    padding-top: 2rem;
    padding-bottom: 2rem;
    column-gap: 0rem;
    row-gap: 2rem;
  

    @include respond(md){
      grid-template-areas:  "name github"
                            "upload imgs";
      grid-template-columns: 350px 1fr;
      column-gap: 2rem;
      row-gap: 48px;
    }


    .description{
      grid-area: description;
      display: none;

    }
    
    .logo{
      @include flex();
      align-items: center;
      gap: 12px;

      rect{
        stroke: $cBrand;
      }

      .logo__name{
        grid-area: name;
        @include font(ft1, w500);
        font-size: 28px;
        line-height: 96.3%;
        letter-spacing: 0.02em;
        text-transform: uppercase;

        justify-self: center;
      }
    }

    //--------------------------------------------

    :global(.upload-box) {
      grid-area: upload;

      display: grid;
      grid-template-areas:  "iconUp"
                            "btnUp"
                            "contUp";
      grid-template-columns: 1fr;
      // display: flex;
      // flex-direction: column;
      justify-items: center;
      align-items: center;
      padding: 42px 0px;
      gap: 32px;
      border: none;
      background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='16' ry='16' stroke='%232C60AFFF' stroke-width='5' stroke-dasharray='10%2c15' stroke-dashoffset='0' stroke-linecap='round'/%3e%3c/svg%3e");
      border-radius: 16px;
      background-color: $cWhite;

      @include respond(sm){
        grid-template-areas:  "iconUp orUp btnUp"
                              "textUp orUp contUp";
        grid-template-columns: 1fr 20px 1fr;
      }

      @include respond(md){
        grid-template-areas:  "iconUp"
                              "textUp"
                              "orUp"
                              "btnUp"
                              "contUp";
        grid-template-columns: 1fr;
      }

    }

      .upload-box__svg{
        grid-area: iconUp;
        align-self: self-end;
        path{
          fill: $cBrand;
          stroke: $cWhite;
        }
      }
      .upload-box__text{
        grid-area: textUp;
        align-self: self-start;
        display: none;
        align-items: center;
        gap: 1rem;

        @include respond(sm){
          @include flex(column);
        }

        .upload-box__title{
          @include font(ft2);
          color: $cGrey10;
        }
  
        .upload-box__subtitle{
          @include font(b1, w400);
          color: $cGrey7;
        }
      }
      .upload-box__or{
        grid-area: orUp;
        display: none;
        justify-content: space-between;
        align-items: center;
        width: fit-content;
        gap: 1rem;
        transform: none;

        @include respond(sm){
          transform: rotate(90deg);
        }
        @include respond(md){
          transform: none;
        }

        .line{
          height: 2px;
          width: 40px;
          background: $cGrey5;
        }

        p{
          @include font(fb1, w500);
          color: $cGrey6;

          @include respond(sm){
            transform: rotate(-90deg);
          }
          @include respond(md){
            transform: none;
          }
        }

        @include respond(sm){
          @include flex();
        }


      }
      .upload-box__btn{
        grid-area: btnUp;
        align-self: self-end;
        @include btn(cW,bgB);
        background-color: $cBrand;
      }
      .upload-box__cont-remove{
        grid-area: contUp;
        @include flex(column);
        align-self: self-start;
        align-items: center;
        gap: 1rem;
        height: 73px;

        .upload-box__count{
          @include font(fb1);
          color: $cGrey7;
        }
        .upload-box__removeAll{
          font-family: 'EuclidCircular';
          font-weight: 500;
          font-size: 16px;
          line-height: 20px;
          text-decoration-line: underline;
          text-underline-offset: 6px;
          text-decoration-thickness: 1.5px;
          padding: 0.5rem;
          color: $cBrand;
        }
      }

    //--------------------------------------------

    .imgs-box{
      grid-area: imgs;
      @include flex(column);
      height: 620px;

      background: #FFFFFF;
      border: 1px solid rgba(0, 0, 0, 0.16);
      border-radius: 16px;
      overflow: hidden;

      @include respond(md){
        height: 510px;
      }

      .imgs-box__svg{
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
      }

      .imgs-list{
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(100%, .5fr));
        gap: 1.5rem;
        overflow: auto;
        padding-right: 0.5rem;
        height: 100%;
        padding: 1.5rem;

        @include respond(xs){
          grid-template-columns: repeat(auto-fit, minmax(250px, .5fr));
        }

        .imgs-list__item{
          position: relative;
          @include flex(column);
          height: max-content;
          border-radius: 6px;
          border: 1px solid rgba(0, 0, 0, 0.16);

            .imgs-list__img{
              display: inherit;
              position: relative;
              cursor: pointer;
              
            &::before{
              content: "";
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              z-index: 999;
              border-radius: 6px 6px 0 0 ;
              background: rgba(0, 0, 0, 0.5) url(/src/assets/imgs/comp_down.svg) no-repeat;
              background-position: center;
              background-size: 200px;

              transition : all .4s linear;
              opacity: 0;
            }
            
            .imgs-list__preview-img{
              width: 100%;
              height: 200px;
              object-fit: cover;
              border-radius: 6px 6px 0 0 ;
            }

          }


          .imgs-list__box{
            @include flex();
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            gap: 6px;
            border-radius: 0 0 6px 6px;

            .imgs-list__name{
              @include font(fb2, w500);
              text-overflow: ellipsis;
              overflow: hidden; 
              width: 100%;
              white-space: nowrap;
            }

            .imgs-list__remove{
              height: 12px;
            }
          }
        }
      }

      .imgs-box__nav{
        @include flex(column);
        justify-content: space-between;
        align-items: center;
        border-top: 1px solid rgba(0, 0, 0, 0.16);
        background: #FDFDFD;
        width: 100%;
        min-height: min-content;
        padding: 1rem 1.5rem;
        gap: 2rem;

        @include respond(xs){
          @include flex();
          min-height: 80px;
          padding: 0 1.5rem;

        }

        .imgs-box__box{
          @include flex(column);
          gap: 6px;
          width: 170px;

          .imgs-box__quality{
            @include flex();
            justify-content: space-between;
            align-items: center;
            .imgs-box__text{
              @include font(fc, w500);
              color: $cGrey6;
            }
          }

          $range-size: 1.5rem;
          $range-colour: #DF2046;  
          .imgs-box__input{
            
            -ms-appearance: none;
            -moz-appearance: none;
            -webkit-appearance: none;
            appearance: none;
            outline: none;
            cursor: pointer;
            /*extra*/
            display: block;
            position: relative;
            margin: .5rem 0;
            &::-webkit-slider-runnable-track {
              background: $cGrey4;
              border-radius: 3px;
              height: 5px;
              -webkit-appearance: none;
            }
            &::-webkit-slider-thumb {
              border: none;
              box-shadow: none;
              height: 12px;
              width: 12px;
              border-radius: 3px;
              transform: rotate(45deg);
              background: $cBrand;
              -webkit-appearance: none;
              outline: none;
              margin: -.195rem 0 0 ;
            }
          }

        }

        .imgs-box__btns{
          @include flex(row,wrap);
          align-items: center;
          justify-content: center;
          gap: 24px;

          .imgs-box__down{
            font-family: 'EuclidCircular';
            font-weight: 500;
            font-size: 18px;
            line-height: 20px;
            padding: 0.5rem;
            &:hover{
              text-decoration-line: underline;
              text-underline-offset: 6px;
              text-decoration-thickness: 1.5px;
            }
          }
  
          .imgs-box__convert{
            @include btn(cW,bgB);
            font-size: 18px;
            height: 42px;
            background-color: $cBrand;
          }
        }


      }

    }

    .github{
      grid-area: github;
      @include flex();
      align-items: center;
      justify-content: space-between;
      gap: 68px;
      justify-self: flex-end;

      @include respond(md){}

      .github__logo{
        min-width: 42px;
      }

      .github__separator{
        display: none;
      }
    }

  }

  .main-index--start{
    grid-template-areas:  "name"
                          "description"
                          "upload"
                          "github";
    grid-template-columns: 1fr;
    overflow: hidden;

    .description{
      display: flex;
      @include font(fhl1, w400);
      color: $cGrey8;
      line-height: 25px;
      text-align: center;
      max-width: 650px;
      width: 100%;
      justify-self: center;
    }

    .logo{
      justify-content: center;
      transform: scale(1.14);
    }

    :global(.upload-box) {
      @include respond(sm){
        grid-template-areas:  "iconUp orUp btnUp"
                                "textUp orUp contUp";
        grid-template-columns: 1fr 20px 1fr;
        column-gap: 64px;
        min-height: 330px;
      }
    }
    
    .upload-box__svg, .upload-box__text{
      @include respond(sm){
        justify-self: flex-end;
        width: 225px;
      }
    }
    .upload-box__btn, .upload-box__cont-remove{
      @include respond(sm){
        justify-self: flex-start;
        width: 160px;
      }
    }

    .upload-box__or{
        transform: rotate(90deg);
        p{
          transform: rotate(-90deg);
        }
      }

    .github{
      overflow: hidden;
      justify-self: center;
      width: fit-content;

      .github__separator{
        display: flex;
      }
    }

  }

</style>
